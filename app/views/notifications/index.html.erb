<h4>Notifications</h4>

<%= form_with model: Notification, method: :delete do |form| %>

  <% if @profile_posts && !@profile_posts.empty? %>
    <% @profile_posts.each do |post| %>
      <div>
        <%= form.check_box post.notification.id %>
        <%= image_tag(post.user.profile.image_as_thumbnail) %>
        <%= link_to post.user.name, user_path(post.user) %>   
            posted on your profile. 
        <%= link_to "View", post_path(post) %>
      </div>
    <% end %>
  <% end %>

  <% if @comments && !@comments.empty? %>
    <% @comments.each do |comment| %>
      <div>
        <%= form.check_box comment.notification.id %>
        <%= image_tag(comment.user.profile.image_as_thumbnail) %>
        <%= link_to comment.user.name, user_path(comment.user) %>
          commented on your post.
        <%= link_to "View", post_path(comment.post) %>
      </div>
    <% end %>
  <% end %>

  <% if @likes && !@likes.empty? %>
    <% @likes.each do |like| %>
      <div>
        <%= form.check_box like.notification.id %>
        <%= image_tag(like.user.profile.image_as_thumbnail) %>
        <%= link_to like.user.name, user_path(like.user) %>
          likes your
        <% if like.comment %>
          <%= 'comment.' %>
        <% else %>
          <%= 'post.' %>
        <% end %>
        <%= link_to "View", post_path(like.post || like.comment.post)   %>
      </div> <br>
    <% end %>
  <% end %>

  <% if @profile_posts.empty? && @likes.empty? && @comments.empty? 
  %>
    <h5>Nothing to see here. Check back later.</h5>
  <% else %>
    <%= form.submit 'Delete selected notifications' %>
  <% end %>
<% end %>

<h4>Friend Requests</h4>

<% if @friend_requests && !@friend_requests.empty? %>
  <% @friend_requests.each do |request| %>
    <div>
      <%= turbo_frame_tag 'accept_request' do %>
        <%= image_tag(request.user.profile.image_as_thumbnail) %>
        <%= link_to request.user.name, user_path(request.user) %>
         <%= link_to "Accept Request", user_friendships_path(current_user, type: :accept_request, requester: request.user), data: { turbo_method: :post } %>
        <%= link_to "Deny Request", user_friendship_path(current_user, request.id, type: :deny_request), data: { turbo_method: :delete } %>
      <% end %>
    </div>
  <% end %>
<% else %>
  <h5>Nothing to see here. Check back later.</h5>
<% end %>