<%# if on the posts show page %>
<% if Rails.application.routes.recognize_path(URI(request.referer).path).include?(:id) %>
  <%= turbo_stream.append 'comment' do %>
      <%= render partial: 'comment', locals: { comment: @comment } %>
  <% end %>
<%# otherwise on the post index page %>
<% else %>
  <%= turbo_stream.update "post_#{@post.id}" do %>
    <%= render partial: 'preview', locals: { post: @post} %>
  <% end %>
<% end %>